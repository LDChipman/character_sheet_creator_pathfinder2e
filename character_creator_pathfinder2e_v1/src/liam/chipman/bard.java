package liam.chipman;

class bard extends dnd_class{

    public bard(player player){
        player.setDnd_class("Bard");
        player.addAlignment_restrictions("Any");
        player.addHit_dice(8);
        for (int i = 0; i < player.getSkills().size(); i++){
            if (player.getSkills().get(i).getName().equals("Acrobatics") || player.getSkills().get(i).getName().equals("Appraise") || player.getSkills().get(i).getName().equals("Bluff") || player.getSkills().get(i).getName().equals("Climb") || player.getSkills().get(i).getName().contains("Craft") || player.getSkills().get(i).getName().equals("Diplomacy") || player.getSkills().get(i).getName().equals("Disguise") || player.getSkills().get(i).getName().equals("Escape Artist") || player.getSkills().get(i).getName().equals("Intimidate") || player.getSkills().get(i).getName().contains("Knowledge") || player.getSkills().get(i).getName().equals("Linguistics") || player.getSkills().get(i).getName().equals("Perception") || player.getSkills().get(i).getName().contains("Perform") || player.getSkills().get(i).getName().contains("Profession") || player.getSkills().get(i).getName().equals("Sense Motive") || player.getSkills().get(i).getName().equals("Sleight of Hand") || player.getSkills().get(i).getName().equals("Spellcraft") || player.getSkills().get(i).getName().equals("Stealth") || player.getSkills().get(i).getName().equals("Use Magic Device")){
                player.getSkills().get(i).setIs_class_skill(true);
            }
        }
        player.addProficiency("all simple weapons");
        player.addProficiency("longsword");
        player.addProficiency("rapier");
        player.addProficiency("sap");
        player.addProficiency("short sword");
        player.addProficiency("shortbow");
        player.addProficiency("whip");
        player.addProficiency("light armor");
        player.addProficiency("shields (except tower shields)");
        player.setFavored_class(0, "Bard");
        player.addTrait_or_feature(addClassFeature("Bardic Spell Proficiencies", "A bard can cast bard spells while wearing light armor and using a shield without incurring the normal arcane spell failure chance.", "A bard can cast bard spells while wearing light armor and using a shield without incurring the normal arcane spell failure chance. Like any other arcane spellcaster, a bard wearing medium or heavy armor incurs a chance of arcane spell failure if the spell in question has a somatic component. A multiclass bard still incurs the normal arcane spell failure chance for arcane spells received from other classes."));
        player.addTrait_or_feature(addClassFeature("Spells", "A bard can cast spells.", "A bard casts arcane spells drawn from the bard spell list. He can cast any spell he knows without preparing it ahead of time. Every bard spell has a verbal component (singing, reciting, or music). To learn or cast a spell, a bard must have a Charisma score equal to at least 10 + the spell level. The Difficulty Class (DC) for a saving throw against a bard’s spell is 10 + the spell level + the bard’s Charisma modifier. Like other spellcasters, a bard can cast only a certain number of spells of each spell level per day. His base daily spell allotment is given on Table: bard. In addition, he receives bonus spells per day if he has a high Charisma score. The bard’s selection of spells is extremely limited. A bard begins play knowing four 0-level spells and two 1st-level spells of the bard’s choice. At each new bard level, he gains one or more new spells, as indicated on Table: Bard Spells Known. (Unlike spells per day, the number of spells a bard knows is not affected by his Charisma score (See Table: Ability Modifiers and Bonus Spells). Upon reaching 5th level, and at every third bard level after that (8th, 11th, and so on), a bard can choose to learn a new spell in place of one he already knows. In effect, the bard “loses” the old spell in exchange for the new one. The new spell’s level must be the same as that of the spell being exchanged, and it must be at least one level lower than the highest-level bard spell the bard can cast. A bard may swap only a single spell at any given level, and must choose whether or not to swap the spell at the same time that he gains new spells known for the level. A bard need not prepare his spells in advance. He can cast any spell he knows at any time, assuming he has not yet used up his allotment of spells per day for the spell’s level."));
        player.addTrait_or_feature(addClassFeature("Bardic Knowledge", "A bard adds half his class level (minimum 1) to all Knowledge skill checks.", "A bard adds half his class level (minimum 1) to all Knowledge skill checks and may make all Knowledge skill checks untrained."));
        for (int i = 0; i < player.getSkills().size(); i++){
            if (player.getSkills().get(i).getName().contains("Knowledge")){
                if (player.getTotal_level() == 1) {
                    player.getSkills().get(i).setMisc_mod(player.getSkills().get(i).getMisc_mod() + 1);
                }
                else {
                    player.getSkills().get(i).setMisc_mod(player.getSkills().get(i).getMisc_mod() + Math.round(player.getTotal_level() / 2));
                }
            }
        }
        player.addTrait_or_feature(addClassFeature("Bardic Performance", "A bard is trained to use the Perform skill to create magical effects on those around him, including himself if desired.", "A bard is trained to use the Perform skill to create magical effects on those around him, including himself if desired. He can use this ability for a number of rounds per day equal to 4 + his Charisma modifier. At each level after 1st a bard can use bardic performance for 2 additional rounds per day. Each round, the bard can produce any one of the types of bardic performance that he has mastered, as indicated by his level. Starting a bardic performance is a standard action, but it can be maintained each round as a free action. Changing a bardic performance from one effect to another requires the bard to stop the previous performance and start a new one as a standard action. A bardic performance cannot be disrupted, but it ends immediately if the bard is killed, paralyzed, stunned, knocked unconscious, or otherwise prevented from taking a free action to maintain it each round. A bard cannot have more than one bardic performance in effect at one time. At 7th level, a bard can start a bardic performance as a move action instead of a standard action. At 13th level, a bard can start a bardic performance as a swift action. Each bardic performance has audible components, visual components, or both. If a bardic performance has audible components, the targets must be able to hear the bard for the performance to have any effect, and many such performances are language dependent (as noted in the description). A deaf bard has a 20% chance to fail when attempting to use a bardic performance with an audible component. If he fails this check, the attempt still counts against his daily limit. Deaf creatures are immune to bardic performances with audible components. If a bardic performance has a visual component, the targets must have line of sight to the bard for the performance to have any effect. A blind bard has a 50% chance to fail when attempting to use a bardic performance with a visual component. If he fails this check, the attempt still counts against his daily limit. Blind creatures are immune to bardic performances with visual components. List of Bardic Performances: Countersong (Su): At 1st level, a bard learns to counter magic effects that depend on sound (but not spells that have verbal components.) Each round of the countersong he makes a Perform (keyboard, percussion, wind, string, or sing) skill check. Any creature within 30 feet of the bard (including the bard himself) that is affected by a sonic or language-dependent magical attack may use the bard’s Perform check result in place of its saving throw if, after the saving throw is rolled, the Perform check result proves to be higher. If a creature within range of the countersong is already under the effect of a non-instantaneous sonic or language-dependent magical attack, it gains another saving throw against the effect each round it hears the countersong, but it must use the bard’s Perform skill check result for the save. Countersong does not work on effects that don’t allow saves. Countersong relies on audible components. Distraction (Su): At 1st level, a bard can use his performance to counter magic effects that depend on sight. Each round of the Distraction, he makes a Perform (act, comedy, dance, or oratory) skill check. Any creature within 30 feet of the bard (including the bard himself) that is affected by an illusion (pattern) or illusion (figment) magical attack may use the bard’s Perform check result in place of its saving throw if, after the saving throw is rolled, the Perform check result proves to be higher. If a creature within range of the Distraction is already under the effect of a non-instantaneous illusion (pattern) or illusion (figment) magical attack, it gains another saving throw against the effect each round it sees the Distraction, but it must use the bard’s Perform check result for the save. Distraction does not work on effects that don’t allow saves. Distraction relies on visual components. Fascinate (Su): At 1st level, a bard can use his performance to cause one or more creatures to become fascinated with him. Each creature to be fascinated must be within 90 feet, able to see and hear the bard, and capable of paying attention to him. The bard must also be able to see the creatures affected. The Distraction of a nearby combat or other dangers prevents the ability from working. For every three levels a bard has attained beyond 1st, he can target one additional creature with this ability. Each creature within range receives a Will save (DC 10 + 1/2 the bard’s level + the bard’s Cha modifier) to negate the effect. If a creature’s saving throw succeeds, the bard cannot attempt to fascinate that creature again for 24 hours. If its saving throw fails, the creature sits quietly and observes the performance for as long as the bard continues to maintain it. While fascinated, a target takes a –4 penalty on skill checks made as reactions, such as Perception checks. Any potential threat to the target allows the target to make a new saving throw against the effect. Any obvious threat, such as someone drawing a weapon, casting a spell, or aiming a weapon at the target, automatically breaks the effect. Fascinate is an enchantment (compulsion), mind-affecting ability. Fascinate relies on audible and visual components in order to function. Inspire Courage (Su): A 1st level bard can use his performance to inspire courage in his allies (including himself), bolstering them against fear and improving their combat abilities. To be affected, an ally must be able to perceive the bard’s performance. An affected ally receives a +1 morale bonus on saving throws against charm and fear effects and a +1 competence bonus on attack and weapon damage rolls. At 5th level, and every six bard levels thereafter, this bonus increases by +1, to a maximum of +4 at 17th level. Inspire courage is a mind-affecting ability. inspire courage can use audible or visual components. The bard must choose which component to use when starting his performance."));
        player.setBase_attack_bonus(0);
        player.setBase_reflex_save(player.getBase_reflex_save() + 2);
        player.setBase_will_save(player.getBase_will_save() + 2);
        player.setLevel_1_spells_per_day(player.getLevel_1_spells_per_day() + 1);
        player.setCantrips_knows(player.getCantrips_knows() + 4);
        player.setLevel_1_spells_known(player.getLevel_1_spells_known() + 2);
        addRanks(player);
    }

}
